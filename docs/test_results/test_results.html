<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fat Zebra Payment Gateway - Test Results</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        h1, h2 {
            color: #2c3e50;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .success {
            color: #27ae60;
        }
        .error {
            color: #e74c3c;
        }
        .notes {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .recommendation {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Fat Zebra Payment Gateway - Integration Test Results</h1>
        <p><em>Test Date: April 20, 2025</em></p>
        
        <h2>Successfully Tested Tools</h2>
        <table>
            <thead>
                <tr>
                    <th>Tool</th>
                    <th>Status</th>
                    <th>Response</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>fat_zebra_payment</strong></td>
                    <td class="success">✅ Success</td>
                    <td>Transaction ID: 071-P-NDLYXUZNKBAHSLVM, Amount: 1000, Message: Approved</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_tokenize</strong></td>
                    <td class="success">✅ Success</td>
                    <td>Card Token: h6cu60h5b5r25tpus5kz, Card Type: MasterCard</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_token_payment</strong></td>
                    <td class="success">✅ Success</td>
                    <td>Transaction ID: 071-P-UFNLEIPJQBRTE6HI, Amount: 2500, Message: Approved</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_3d_secure</strong></td>
                    <td class="success">✅ Success</td>
                    <td>Transaction ID: 071-P-21IQWEAZPI8QAMZD, Amount: 3000, Message: Approved</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_refund</strong></td>
                    <td class="success">✅ Success</td>
                    <td>Refund ID: 071-R-U1AGNO68WTZYSZTM, Amount: 500</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_transaction_status</strong></td>
                    <td class="success">✅ Success</td>
                    <td>Retrieved full transaction details for 071-P-UFNLEIPJQBRTE6HI</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_list_batches</strong></td>
                    <td class="success">✅ Success</td>
                    <td>Retrieved list of batches (20 records)</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_batch_details</strong></td>
                    <td class="success">✅ Success</td>
                    <td>Retrieved details for batch ID 071-BF-IHTU51YU</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_passthrough</strong></td>
                    <td class="success">✅ Success</td>
                    <td>GET request to /purchases/071-P-UFNLEIPJQBRTE6HI</td>
                </tr>
            </tbody>
        </table>
        
        <h2>Failed or Error Responses</h2>
        <table>
            <thead>
                <tr>
                    <th>Tool</th>
                    <th>Status</th>
                    <th>Error Details</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>fat_zebra_direct_debit</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Unsupported content type: error</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_list_transactions</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Unsupported content type: error</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_transaction_history</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Could not find Purchase"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_create_customer</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Unsupported content type: error</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_update_customer</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Record not found"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_store_card</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Not Found"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_list_stored_cards</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Not Found"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_delete_stored_card</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Unknown error from Fat Zebra API"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_search_refunds</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Unsupported content type: error</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_create_batch</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "ENOENT: no such file or directory"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_reconciliation_report</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Not Found"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_create_webhook</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Unsupported content type: error</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_list_webhooks</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Not Found"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_test_webhook</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Not Found"</td>
                </tr>
                <tr>
                    <td><strong>fat_zebra_delete_webhook</strong></td>
                    <td class="error">❌ Failed</td>
                    <td>Error: "Unknown error from Fat Zebra API"</td>
                </tr>
            </tbody>
        </table>
        
        <div class="notes">
            <h2>Notes on Test Results</h2>
            <p><strong>1. Payment Processing:</strong> Basic payments, tokenized payments, and 3D Secure payments worked successfully.</p>
            <p><strong>2. Refunds:</strong> Successfully processed a refund for a transaction.</p>
            <p><strong>3. Transaction Management:</strong> Successfully retrieved transaction status, but could not retrieve transaction history.</p>
            <p><strong>4. Batch Processing:</strong> Successfully listed batches and retrieved batch details, but could not create new batches due to file handling issues.</p>
            <p><strong>5. Customer Management:</strong> All customer management functions failed, likely due to configuration issues or the test environment not supporting these features.</p>
            <p><strong>6. Webhook Management:</strong> All webhook management functions failed, likely due to the test environment not supporting webhooks.</p>
            <p><strong>7. Custom API Requests:</strong> Successfully made a custom GET request via the passthrough function.</p>
        </div>
        
        <h2>Recommendations</h2>
        <div class="recommendation">1. Investigate the "Unsupported content type" errors, which may indicate a formatting or payload issue.</div>
        <div class="recommendation">2. Check if customer management features are enabled in the test environment.</div>
        <div class="recommendation">3. For file upload functionality (create_batch), implement proper file handling.</div>
        <div class="recommendation">4. Test webhook functionality in a properly configured environment.</div>
        <div class="recommendation">5. Setup proper error handling for "Not Found" and "Record not found" errors in the application.</div>
        <div class="recommendation">6. Consider implementing retry logic for intermittent failures.</div>
    </div>
</body>
</html>